(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{415:function(t,e,s){"use strict";s.r(e);var a=s(4),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"说说对-state-和-props的理解-有什么区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#说说对-state-和-props的理解-有什么区别"}},[t._v("#")]),t._v(" 说说对 State 和 Props的理解，有什么区别？")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/gH31uF9VIibRFoqicRbjwGqQ66pC7OHjZNFI5wPgkopgud8VVSSKucJwCdCoQLDpmRT6ImvdvlU549Wr2dgN8W3Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"图片"}})]),t._v(" "),e("h2",{attrs:{id:"一、state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、state"}},[t._v("#")]),t._v(" 一、state")]),t._v(" "),e("p",[t._v("一个组件的显示形态可以由数据状态和外部参数所决定，而数据状态就是"),e("code",[t._v("state")]),t._v("，一般在 "),e("code",[t._v("constructor")]),t._v(" 中初始化")]),t._v(" "),e("p",[t._v("当需要修改里面的值的状态需要通过调用"),e("code",[t._v("setState")]),t._v("来改变，从而达到更新组件内部数据的作用，并且重新调用组件"),e("code",[t._v("render")]),t._v("方法，如下面的例子：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("class Button extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0,\n        };\n    }\n\n    updateCount() {\n        this.setState((prevState, props) => {\n            return { count: prevState.count + 1 }\n        });\n    }\n\n    render() {\n        return (<button\n                    onClick={() => this.updateCount()}\n                    >\n                Clicked {this.state.count} times\n            </button>);\n    }\n}\n")])])]),e("p",[e("code",[t._v("setState")]),t._v("还可以接受第二个参数，它是一个函数，会在"),e("code",[t._v("setState")]),t._v("调用完成并且组件开始重新渲染时被调用，可以用来监听渲染是否完成")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("this.setState({\n  name:'JS每日一题'\n},()=>console.log('setState finished'))\n")])])]),e("h2",{attrs:{id:"二、props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、props"}},[t._v("#")]),t._v(" 二、props")]),t._v(" "),e("p",[e("code",[t._v("React")]),t._v("的核心思想就是组件化思想，页面会被切分成一些独立的、可复用的组件")]),t._v(" "),e("p",[t._v("组件从概念上看就是一个函数，可以接受一个参数作为输入值，这个参数就是"),e("code",[t._v("props")]),t._v("，所以可以把"),e("code",[t._v("props")]),t._v("理解为从外部传入组件内部的数据")]),t._v(" "),e("p",[e("code",[t._v("react")]),t._v("具有单向数据流的特性，所以他的主要作用是从父组件向子组件中传递数据")]),t._v(" "),e("p",[e("code",[t._v("props")]),t._v("除了可以传字符串，数字，还可以传递对象，数组甚至是回调函数，如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('class Welcome extends React.Component {\n  render() {\n    return <h1>Hello {this.props.name}</h1>;\n  }\n}\n\nconst element = <Welcome name="Sara" onNameChanged={this.handleName} />;\n')])])]),e("p",[t._v("上述"),e("code",[t._v("name")]),t._v("属性与"),e("code",[t._v("onNameChanged")]),t._v("方法都能在子组件的"),e("code",[t._v("props")]),t._v("变量中访问")]),t._v(" "),e("p",[t._v("在子组件中，"),e("code",[t._v("props")]),t._v("在内部不可变的，如果想要改变它看，只能通过外部组件传入新的"),e("code",[t._v("props")]),t._v("来重新渲染子组件，否则子组件的"),e("code",[t._v("props")]),t._v("和展示形式不会改变")]),t._v(" "),e("h2",{attrs:{id:"三、区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、区别"}},[t._v("#")]),t._v(" 三、区别")]),t._v(" "),e("p",[t._v("相同点：")]),t._v(" "),e("ul",[e("li",[t._v("两者都是 JavaScript 对象")]),t._v(" "),e("li",[t._v("两者都是用于保存信息")]),t._v(" "),e("li",[t._v("props 和 state 都能触发渲染更新")])]),t._v(" "),e("p",[t._v("区别：")]),t._v(" "),e("ul",[e("li",[t._v("props 是外部传递给组件的，而 state 是在组件内被组件自己管理的，一般在 constructor 中初始化")]),t._v(" "),e("li",[t._v("props 在组件内部是不可修改的，但 state 在组件内部可以进行修改")]),t._v(" "),e("li",[t._v("state 是多变的、可以修改")])]),t._v(" "),e("h2",{attrs:{id:"参考文献"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),e("ul",[e("li",[t._v("https://lucybain.com/blog/2016/react-state-vs-pros/")]),t._v(" "),e("li",[t._v("https://juejin.cn/post/6844904009203974158")])])])}),[],!1,null,null,null);e.default=n.exports}}]);